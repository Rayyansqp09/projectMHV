<div class="match-card">
  <div class="card-content">
    <div class="card-header">

      <div class="fst-row">
        <span class="match-date">
          <i class="icon-adjust icon-small no"></i> {{rowIndex}} </span>
        <span class="date-text"><i data-lucide="calendar" class="icon-date"></i> {{dateFormatted}}</span>
      </div>
      <div class="scnd-row">
        <div class="match-teams">
          <span class="team-name for">{{forTeam}}</span>
          <span class="team-name against">vs {{againstTeam}}</span>
        </div>
        <div class="comp">
          <span class="competition"><span class="cup">üèÜ</span>{{competition}}</span>
          <span class="stage">{{stage}}</span>
        </div>
        <span class="goals"><img src="/images/goal.png" alt="Goal" class="icon-img" /> {{goals}}</span>
        <span class="assists"><i data-lucide="arrow-right" class="icon-sm text-purple"></i> {{assists}}</span>
        <div class="result-badge result-badge-card {{result}} result">{{result}}</div>
      </div>
    </div>
    <div class="card-footer">
      <button class="details-toggle" onclick="toggleCardDetails(this)">Details <span class="arrow">‚ñæ</span></button>
    </div>
  </div>
  <div class="card-details">
    <div class="details-grid">
      <div class="performance">
        <strong>Performance</strong>
        <div><span class="label"><img src="/images/goal.png" alt="Goal" class="icon-img" /> Goals:</span><span
            class="value">{{goals}}</span></div>
        <div><span class="label"><i data-lucide="arrow-right" class="icon-sm text-purple"></i> Assists:</span><span
            class="value text-purple">{{assists}}</span></div>
        <div><span class="label"><i data-lucide="target" class="icon-sm shot-icon"></i> Shot On Target:</span><span
            class="value shot-icon">{{Shot}}</span></div>
        <div><span class="label"><i data-lucide="trending-up" class="icon-sm text-blue"></i> Chances
            Created:</span><span class="value text-blue">{{CC}}</span></div>
        <div><span class="label"><i data-lucide="trending-up" class="icon-sm bcc-icon"></i> Big Chances
            Created:</span><span class="value bcc-icon">{{BCC}}</span></div>
        <div><span class="label"><i data-lucide="zap" class="icon-sm dribble-icon align-icon"></i> Dribbles:</span><span
            class="value dribble-icon">{{dribbles}}</span></div>
        <div><span class="label"><i data-lucide="clock" class="icon-sm text-blue-400 align-icon"></i> Minutes
            Played:</span><span class="value">{{mnt}}'</span></div>
      </div>
      <div class="goal-types">
        <strong>Goal Types</strong>
        <div class="goal-type-list">
          {{#if goalTypes}}
          {{#each (split goalTypes ",")}}
          <span class="goal-type-item">{{this}}</span>
          {{/each}}
          {{else}}
          <span class="goal-type-item">None</span>
          {{/if}}
        </div>
      </div>

      <div class="final-score">
        <strong>Final Score</strong>
        <div class="score-box">
          <div class="score">{{scorFor}}-{{scorAgainst}}</div>
          <div class="teams"><span class="for-team-score">{{forTeam}} </span>vs {{againstTeam}}</div>
          <div class="result-badge {{result}}">{{result}}</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

  hbs.registerHelper('split', function(str, separator) {
  if (!str) return [];
  return str.split(separator).map(s => s.trim());
});


  document.querySelectorAll('.goals, .assists').forEach(el => {
    const value = parseInt(el.textContent.trim(), 10);
    if (!isNaN(value)) {
      el.classList.add(value === 0 ? 'zero' : 'nonzero');
    }
  });

  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".score-box").forEach(box => {
      const badge = box.querySelector(".result-badge");
      if (!badge) return;

      const result = badge.textContent.trim().toLowerCase();

      if (result === "win") {
        box.style.backgroundColor = "rgba(34,197,94,0.12)";   // light green
      } else if (result === "draw") {
        box.style.backgroundColor = "rgba(245,158,11,0.12)";  // light orange
      } else if (result === "loss") {
        box.style.backgroundColor = "rgba(239,68,68,0.12)";   // light red
      }
    });
  });

</script>



.cardNew-wrapper {
  margin-bottom: 32px;
  font-family: Arial, sans-serif;
}

.cardNew-card {
  font-family: 'Lexend', sans-serif;
}

.cardNew-score,
.cardNew-statNum,
.cardNew-metric span {
  font-family: 'Montserrat', sans-serif;
}

.cardNew-score {
  font-family: 'Barlow Condensed', sans-serif;
  letter-spacing: 2px;
}


.cardNew-card {
  background: #1A1A1A;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: 0 20px 40px rgba(0,0,0,0.5);
  color: white;
}

/* TOP */
.cardNew-top {
  padding: 16px;
}

.cardNew-meta {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
}

.cardNew-metaLeft,
.cardNew-metaRight {
  display: flex;
  align-items: center;
  gap: 8px;
}

.cardNew-rank {
  font-size: 10px;
  font-weight: bold;
  color: #ffd900;
  background: rgba(255,217,0,0.1);
  padding: 2px 8px;
  border-radius: 6px;
}

.cardNew-date {
  font-size: 10px;
  color: #aaa;
}

.cardNew-competition {
  font-size: 10px;
  text-transform: uppercase;
  font-weight: bold;
  color: #ddd;
}

/* TEAMS */
.cardNew-teams {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 16px 0;
}

.cardNew-team {
  flex: 1;
  text-align: center;
}

.cardNew-logo {
  font-size: 30px;
}

.cardNew-logo.red { color: #ff4444; }

.cardNew-teamName {
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
}

.cardNew-scoreBox {
  padding: 0 16px;
  text-align: center;
}

.cardNew-score {
  font-size: 28px;
  font-weight: bold;
}

.cardNew-result {
  background: rgba(0,255,100,0.15);
  color: #00ff88;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: bold;
}

/* QUICK STATS */
.cardNew-quickStats {
  display: flex;
  justify-content: space-between;
  border-top: 1px solid rgba(255,255,255,0.05);
  padding-top: 12px;
}

.cardNew-quickLeft {
  display: flex;
  gap: 20px;
}

.cardNew-statNum {
  font-size: 20px;
  font-weight: bold;
}

.gold { color: gold; }
.silver { color: silver; }

.cardNew-statLabel {
  font-size: 10px;
  color: #aaa;
  text-transform: uppercase;
}

.cardNew-detailsBtn {
  background: none;
  border: none;
  color: #ffd900;
  font-weight: bold;
  cursor: pointer;
}

/* DETAILS */
.cardNew-details {
  background: rgba(0,0,0,0.4);
  padding: 20px;
  border-top: 1px solid rgba(255,255,255,0.05);
}

.cardNew-section {
  margin-bottom: 24px;
}

.cardNew-sectionTitle {
  font-size: 10px;
  color: #777;
  text-transform: uppercase;
  font-weight: 800;
  margin-bottom: 12px;
}

/* METRICS GRID */
.cardNew-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.cardNew-metric {
  background: rgba(255,255,255,0.05);
  border-radius: 12px;
  padding: 10px;
  text-align: center;
}

.cardNew-metric span {
  font-size: 18px;
  font-weight: bold;
  display: block;
}

.cardNew-metric small {
  font-size: 9px;
  color: #888;
  text-transform: uppercase;
}

.muted { color: #aaa; }

/* TAGS */
.cardNew-tags {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.cardNew-tag {
  background: #2A2A2A;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 10px;
  text-transform: uppercase;
  color: #ccc;
}

/* IMPACT */
.cardNew-impactHeader {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.cardNew-impactText {
  color: #ffd900;
  font-weight: bold;
}

.cardNew-progress {
  height: 8px;
  background: rgba(255,255,255,0.05);
  border-radius: 999px;
  overflow: hidden;
}

.cardNew-progressFill {
  width: 92%;
  height: 100%;
  background: linear-gradient(to right, #ffd900, #ffb700);
}


<section class="match-history-container">
  <br>
  <h1 id="match-history" class="match-history-title">Match History-{{playerName}}</h1>
  <p class="match-history-subtitle">Complete record of all matches played by {{playerFullName}}</p>

  <div class="tab-container-mh">
    <div class="tab tab-mh" data-target="mbappe" href="/">Mbappe</div>
    <div class="tab tab-mh" data-target="haaland">Haaland</div>
    <div class="tab tab-mh" data-target="vinicius">Vinicius</div>
  </div>

  <form class="filters-box" onsubmit="return false;">
    <div class="filters-top">
      <div class="form-field">
        <label class="field-label">Competition</label>
        <select name="competition" id="competition">
          <option>All</option>
          <option value="World Cup,Copa Am√©rica,UEFA Euro">International Major Competitions</option>
          <option
            value="World Cup,Copa Am√©rica,UEFA Euro,World Cup Qualifiers,WCQ,UEFA Nations League (A),UEFA Nations League (B),UEFA Euro Qualifiers">
            International Competitive Games</option>
          <option
            value="La liga,S√©rie A,Ligue 1,Bundesliga,Eliteserien,Seria A,National 2 Group D,National 2 Group C,1. divisjon,Premier League,Segunda Divisi√≥n B">
            Domestic League</option>
          <option value="La liga,Ligue 1,Bundesliga,Eliteserien,Seria A,S√©rie A,Premier League">Domestic League (Top
            Division
            Only)</option>
          {{#each dynamicFilters.competition}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>

      <div class="form-field">
        <label class="field-label">Stage</label>
        <select name="stage" id="stage">
          <option>All</option>
          <option>League Stage</option>
          <option value="Group Stage,League Phase,League phase,Group stage">Group Stage</option>
          <option>Knockout</option>
          <option>Round of 16</option>
          <option>Quarter Final</option>
          <option>Semi Final</option>
          <option value="Final,Final (1st Leg)">Final</option>
          <option value="Knockout Play-offs,Playoffs,play-off round,playoffs">Playoffs</option>
          <option>3rd Place</option>
          <option>Preliminary Round</option>
        </select>
      </div>

      <div class="form-field">
        <label class="field-label">Season</label>
        <select name="season" id="season">
          <option>All</option>
          <option value="2025-26">2025-26</option>
          <option value="2024-25">2024-25</option>
          <option value="2023-24">2023-24</option>
          <option value="2022-23">2022-23</option>
          <option value="2021-22">2021-22</option>
          <option value="2020-21">2020-21</option>
          <option value="2019-20">2019-20</option>
          <option value="2018-19">2018-19</option>
          <option value="2017-18">2017-18</option>
          <option value="2016-17">2016-17</option>
          <option value="2015-16">2015-16</option>
          <option value="2018">2018</option>
          <option value="2017">2017</option>
          <option value="2016">2016</option>
          <option value="2015">2015</option>
          <!-- Add more seasons as needed -->
        </select>
      </div>



      <div class="form-field">
        <label class="field-label">Minimum Goals</label>
        <input type="number" name="minGoals" id="minGoals" placeholder="Minimum Goals">
      </div>

      <div class="form-field">
        <label class="field-label">Minimum Assists</label>
        <input type="number" name="minAssists" id="minAssists" placeholder="Minimum Assists">
      </div>

      <div class="form-field">
        <label class="field-label">For (team)</label>
        <select name="for" id="for">
          <option>All</option>
          <option
            value="AS Monaco B,Monaco,Paris SG,Bryne FK,Molde,RB Salzburg,Dortmund,Manchester City,Flamengo,Real Madrid,Real Madrid Castilla">
            All Clubs
          </option>

          {{#each dynamicFilters.forTeam}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>
    </div>

    <button type="button" class="advanced-toggle" id="toggleAdvanced">
      <i data-lucide="settings" class="advancedFltr-icon"></i> Advanced Filters <span id="arrow">‚ñæ</span>
    </button>

    <div class="advanced-filters hidden" id="advancedFilters">

      <div class="form-field">
        <label class="field-label">Goal Types</label>
        <div class="dropdown-checkbox">
          <button type="button" class="dropdown-toggle" onclick="toggleDropdown(this)">
            Goal Types
          </button>

          <div class="dropdown-options hidden">
            <label for="goal-penalty"><input id="goal-penalty" class="goal-type" type="checkbox" name="goalTypes"
                value="Penalty">Penalty</label>

            <label for="goal-freekick"><input id="goal-freekick" class="goal-type" type="checkbox" name="goalTypes"
                value="Free Kick">Free Kick</label>

            <label for="goal-outside"><input id="goal-outside" class="goal-type" type="checkbox" name="goalTypes"
                value="Outside the Box">Outside the Box</label>

            <label for="goal-inside"><input id="goal-inside" class="goal-type" type="checkbox" name="goalTypes"
                value="Inside the Box">Inside the Box</label>

            <label for="goal-header"><input id="goal-header" class="goal-type" type="checkbox" name="goalTypes"
                value="Header">Header</label>

            <label for="solo-run"><input id="solo-run" class="goal-type" type="checkbox" name="goalTypes"
                value="Solo Run">Solo Run</label>

            <label for="goal-dribble"><input id="goal-dribble" class="goal-type" type="checkbox" name="goalTypes"
                value="Dribble past 3+ players">Dribble Past 3+ Players</label>

            <label for="goal-dribble"><input id="goal-dribble" class="goal-type" type="checkbox" name="goalTypes"
                value="Dribble past the keeper"> Dribble past the keeper</label>

            <label for="goal-dribble"><input id="goal-dribble" class="goal-type" type="checkbox" name="goalTypes"
                value="Chip over the keeper">Chip over the keeper</label>

            <label for="goal-dribble"><input id="goal-dribble" class="goal-type" type="checkbox" name="goalTypes"
                value="Chest">Chest</label>
          </div>
        </div>
      </div>

      <div class="form-field">
        <label class="field-label">Year</label>
        <select name="year" id="year">
          <option>All</option>
          <option value="2025">2025</option>
          <option value="2024">2024</option>
          <option value="2023">2023</option>
          <option value="2022">2022</option>
          <option value="2021">2021</option>
          <option value="2020">2020</option>
          <option value="2019">2019</option>
          <option value="2018">2018</option>
          <option value="2017">2017</option>
          <option value="2016">2016</option>
          <option value="2015">2015</option>
          <!-- Add more years as needed -->
        </select>
      </div>

      <div class="form-field">
        <label class="field-label">Chances Created</label>
        <input type="number" name="chancesCreated" id="chancesCreated" placeholder="Chances Created">
      </div>

      <div class="form-field">
        <label class="field-label">Big Chance Created</label>
        <input type="number" name="bigChancesCreated" id="bigChancesCreated" placeholder="Big Chances Created">
      </div>

      <div class="form-field">
        <label class="field-label">Dribbles</label>
        <input type="number" name="dribbles" id="dribbles" placeholder="Dribbles">
      </div>

      <div class="form-field">
        <label class="field-label">Minutes Played</label>
        <input type="number" name="minutesPlayed" id="minutesPlayed" placeholder="Minutes Played">
      </div>

      <div class="form-field">
        <label class="field-label">Against (team)</label>
        <input type="text" name="against" id="against" placeholder="Against">
      </div>

      <div class="form-field">
        <label class="field-label">Number of Match</label>
        <input type="number" name="matchNo" id="matchNo" placeholder="Enter Match No">
      </div>

      <div class="form-field">
        <label class="field-label">Match Date</label>
        <input type="date" name="matchDate" id="matchDate">
      </div>

      <div class="form-field">
        <label class="field-label">Match Result</label>
        <select name="rest" id="rest">
          <option>All</option>
          <option>Win</option>
          <option>Loss</option>
          <option>Draw</option>
        </select>
      </div>
    </div>

    </div>

  </form>
