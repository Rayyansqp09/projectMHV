<link
  href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700;800&family=Barlow+Condensed:wght@400;500;600;700&family=Montserrat:wght@400;600;700;800&display=swap"
  rel="stylesheet">


<div class="cardNew-wrapper">

  <div class="cardNew-card match-card">

    <!-- MAIN SECTION -->
    <div class="cardNew-main">

      <!-- TOP ROW -->
      <div class="cardNew-topRow">

        <div class="cardNew-topLeft">
          <div class="cardNew-matchNo">#{{rowIndex}}</div>
          <div class="cardNew-date">{{dateFormatted}}</div>
        </div>

        <div class="cardNew-topRight mobile-Stat">
          <div class="cardNew-trophy">üèÜ</div>
          <div class="cardNew-competition">{{competition}} -</div>
          <div class="cardNew-competition">{{stage}}</div>
        </div>

      </div>


      <!-- MIDDLE ROW -->
      <div class="cardNew-middleRow">

        <div class="cardNew-team">
          <div class="cardNew-teamIcon"><span class="material-symbols-outlined cardNew-teamIcon">
              shield
            </span></div>
          <div class="cardNew-teamName own-team">{{forTeam}}</div>
        </div>

        <div class="cardNew-scoreBlock">
          <div class="cardNew-score">{{scorFor}}-{{scorAgainst}}</div>
          <div class="cardNew-result {{result}}">{{result}}</div>
        </div>

        <div class="cardNew-team">
          <div class="cardNew-teamIcon"><span class="material-symbols-outlined cardNew-teamIcon opponent">
              shield
            </span>
          </div>
          <div class="cardNew-teamName">{{againstTeam}}</div>
        </div>

        <div class="cardNew-topRight desktop-Stat">
          <div class="cardNew-trophy">üèÜ</div>

          <div class="cardNew-text">
            <div class="cardNew-competition">{{competition}}</div>
            <div class="cardNew-stage">{{stage}}</div>
          </div>
        </div>

        <div class="cardNew-stats desktop-Stat">
          <div class="cardNew-stat">
            <div class="cardNew-statNum">{{goals}}</div>
            <div class="cardNew-statLabel">Goals</div>
          </div>

          <div class="cardNew-stat">
            <div class="cardNew-statNum">{{assists}}</div>
            <div class="cardNew-statLabel">Assists</div>
          </div>
        </div>

      </div>


      <!-- BOTTOM ROW -->
      <div class="cardNew-bottomRow">

        <div class="cardNew-stats mobile-Stat">
          <div class="cardNew-stat">
            <div class="cardNew-statNum">{{goals}}</div>
            <div class="cardNew-statLabel">Goals</div>
          </div>

          <div class="cardNew-stat">
            <div class="cardNew-statNum">{{assists}}</div>
            <div class="cardNew-statLabel">Assists</div>
          </div>
        </div>

        <div class="cardNew-detailsBtn" onclick="toggleCardDetails(this)">Details ‚ñ≤</div>

      </div>

    </div>



    <!-- EXPANDED SECTION -->
    <div class="cardNew-expanded hidden">


      <!-- METRICS -->
      <div class="cardNew-section">

        <div class="cardNew-sectionTitle">
          Key Performance Metrics
        </div>

        <div class="cardNew-metricsGrid">

          <div class="cardNew-metric">
            <div>{{goals}}</div><span>Goals</span>
          </div>
          <div class="cardNew-metric">
            <div>{{assists}}</div><span>Assists</span>
          </div>
          <div class="cardNew-metric">
            <div>{{Shot}}</div><span>Shots Target</span>
          </div>
          <div class="cardNew-metric">
            <div>{{dribbles}}</div><span>Dribbles</span>
          </div>
          <div class="cardNew-metric">
            <div>{{BCC}}</div><span>Big Chance Created</span>
          </div>
          <div class="cardNew-metric">
            <div>{{CC}}</div><span>Chance Created</span>
          </div>
          <div class="cardNew-metric">
            <div>{{mnt}}'</div><span>Mins</span>
          </div>
          <div class="cardNew-metric">
            <div></div><span>Passes</span>
          </div>

        </div>

      </div>



      <!-- GOAL DISTRIBUTION -->
      <div class="cardNew-section">

        <div class="cardNew-sectionTitle">
          Goal Distribution
        </div>

        <div class="cardNew-chips">

          {{#if goalTypes}}
          {{#each (split goalTypes ",")}}
          <span class="cardNew-chip">{{this}}</span>
          {{/each}}
          {{else}}
          <span class="cardNew-chip">None</span>
          {{/if}}

        </div>

      </div>



      <!-- IMPACT -->
      <div class="cardNew-section">

        <div class="cardNew-impactHeader">
          <div>Match Impact</div>
          <div class="cardNew-impactValue">Elite (9.2)</div>
        </div>

        <div class="cardNew-impactBar">
          <div class="cardNew-impactFill"></div>
        </div>

      </div>

    </div>

  </div>
</div>



<script>

  hbs.registerHelper('split', function (str, separator) {
    if (!str) return [];
    return str.split(separator).map(s => s.trim());
  });


  document.addEventListener("DOMContentLoaded", () => {

    /* ========= GOALS & ASSISTS ZERO / NONZERO ========= */
    document.querySelectorAll('.cardNew-stat').forEach(stat => {
      const numEl = stat.querySelector('.cardNew-statNum');
      if (!numEl) return;

      const value = parseInt(numEl.textContent.trim(), 10);

      if (!isNaN(value)) {
        numEl.classList.add(value === 0 ? 'zero' : 'nonzero');
      }
    });


    /* ========= RESULT COLOR FOR SCORE BOX ========= */
    document.querySelectorAll(".cardNew-scoreBox").forEach(box => {

      const resultEl = box.querySelector(".cardNew-result");
      if (!resultEl) return;

      const result = resultEl.textContent.trim().toLowerCase();

      if (result === "w" || result === "win") {
        box.style.backgroundColor = "rgba(34,197,94,0.12)";   // green
      }
      else if (result === "d" || result === "draw") {
        box.style.backgroundColor = "rgba(245,158,11,0.12)";  // orange
      }
      else if (result === "l" || result === "loss") {
        box.style.backgroundColor = "rgba(239,68,68,0.12)";   // red
      }

    });

  });

  // ========= ADD GOLD CLASS FOR POSITIVE STATS =========





</script>