<div class="match-card">
  <div class="card-content">
    <div class="card-header">

      <div class="fst-row">
        <span class="match-date">
          <i class="icon-adjust icon-small no"></i> {{No}} </span>
        <span class="date-text"><i data-lucide="calendar" class="icon-date"></i> {{dateFormatted}}</span>
      </div>
      <div class="scnd-row">
        <div class="match-teams">
          <span class="team-name for">{{forTeam}}</span>
          <span class="team-name against">vs {{againstTeam}}</span>
        </div>
        <div class="comp">
          <span class="competition"><span class="cup">üèÜ</span>{{competition}}</span>
          <span class="stage">{{stage}}</span>
        </div>
        <span class="goals"><img src="/images/goal.png" alt="Goal" class="icon-img" /> {{goals}}</span>
        <span class="assists"><i data-lucide="arrow-right" class="icon-sm text-purple"></i> {{assists}}</span>
        <div class="result-badge result-badge-card {{result}} result">{{result}}</div>
      </div>
    </div>
    <div class="card-footer">
      <button class="details-toggle" onclick="toggleCardDetails(this)">Details <span class="arrow">‚ñæ</span></button>
    </div>
  </div>
  <div class="card-details">
    <div class="details-grid">
      <div class="performance">
        <strong>Performance</strong>
        <div><span class="label"><img src="/images/goal.png" alt="Goal" class="icon-img" /> Goals:</span><span
            class="value">{{goals}}</span></div>
        <div><span class="label"><i data-lucide="arrow-right" class="icon-sm text-purple"></i> Assists:</span><span
            class="value text-purple">{{assists}}</span></div>
        <div><span class="label"><i data-lucide="target" class="icon-sm shot-icon"></i> Shot On Target:</span><span
            class="value shot-icon">{{Shot}}</span></div>
        <div><span class="label"><i data-lucide="trending-up" class="icon-sm text-blue"></i> Chances
            Created:</span><span class="value text-blue">{{CC}}</span></div>
        <div><span class="label"><i data-lucide="trending-up" class="icon-sm bcc-icon"></i> Big Chances
            Created:</span><span class="value bcc-icon">{{BCC}}</span></div>
        <div><span class="label"><i data-lucide="zap" class="icon-sm dribble-icon align-icon"></i> Dribbles:</span><span
            class="value dribble-icon">{{dribbles}}</span></div>
        <div><span class="label"><i data-lucide="clock" class="icon-sm text-blue-400 align-icon"></i> Minutes
            Played:</span><span class="value">{{mnt}}'</span></div>
      </div>
      <div class="goal-types">
        <strong>Goal Types</strong>
        <div class="goal-type-list">
          {{#if goalTypes}}
          {{#each (split goalTypes ",")}}
          <span class="goal-type-item">{{this}}</span>
          {{/each}}
          {{else}}
          <span class="goal-type-item">None</span>
          {{/if}}
        </div>
      </div>

      <div class="final-score">
        <strong>Final Score</strong>
        <div class="score-box">
          <div class="score">{{scorFor}}-{{scorAgainst}}</div>
          <div class="teams"><span class="for-team-score">{{forTeam}} </span>vs {{againstTeam}}</div>
          <div class="result-badge {{result}}">{{result}}</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

  hbs.registerHelper('split', function(str, separator) {
  if (!str) return [];
  return str.split(separator).map(s => s.trim());
});


  document.querySelectorAll('.goals, .assists').forEach(el => {
    const value = parseInt(el.textContent.trim(), 10);
    if (!isNaN(value)) {
      el.classList.add(value === 0 ? 'zero' : 'nonzero');
    }
  });

  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".score-box").forEach(box => {
      const badge = box.querySelector(".result-badge");
      if (!badge) return;

      const result = badge.textContent.trim().toLowerCase();

      if (result === "win") {
        box.style.backgroundColor = "rgba(34,197,94,0.12)";   // light green
      } else if (result === "draw") {
        box.style.backgroundColor = "rgba(245,158,11,0.12)";  // light orange
      } else if (result === "loss") {
        box.style.backgroundColor = "rgba(239,68,68,0.12)";   // light red
      }
    });
  });

</script>